<html>

<head>
  <title>Demo</title>
  <script src="html-component.js"></script>
  <style>
    *{
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    .circle{
      position: absolute;
      display: block;
      border-radius: 50%;
      border: 1px solid black;
      width: 50px;
      height: 50px;
      transform: translate(-50%, -50%);
    }

    .square{
      position: absolute;
      display: block;
      border: 1px solid red;
      width: 50px;
      height: 50px;
      transform: translate(-50%, -50%);
    }    
    .screen{
      position: absolute;
      width: 100%;
      height: 100%;
      border: 1px solid orange;
      
    }
    #container{
      display: flex;
      flex-direction: row;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
 <!-- <p>Click on page</p> -->
  <div id="container">
    
  </div>
  <script>
    const container = HtmlElement.getById("container");

    const input1 = HtmlElement.create({
      type: "input",
      id: "input1",
      attrs: {
        placeholder: "custom client"
      }
    }).appendTo(container);

    const input2 = HtmlElement.create({
      type: "input",
      id: "input2",
      
    }).appendTo(container); 

    const input3 = HtmlElement.create({
      type: "input",
      id: "input3",
      attrs: {
        placeholder: "reverse client"
      }
    }).appendTo(container); 

    const inputParent = HtmlElement.create({
      type: "input",
      id: "input-parent",
      styles: {
        background: "lawngreen"
      },
      attrs: {
        placeholder: "parent input"
      },   
      clients: [
        [
          input1,
          function () {
            input1.setValue("__" + this.value + "__");
          },
        ],
        input2
      ],
    }).appendTo(container); 

    inputParent.addClient(input3);
    input3.addClient(inputParent);

    const remove1client = HtmlElement.create({
      type: "button",
      value: "remove 1 client",
      events: {
        click: () => inputParent.removeClient(input1)
      }
    }).appendTo(container);

    const resetButton = HtmlElement.create({
      type: "button",
      value: "remove all clients",
      events: {
        click: () => inputParent.clearClients()
      }
    }).appendTo(container);

    const newRow = HtmlElement.create({
      type: "div",
      styles: {
        width: "100%"
      }
    }).appendTo(container);

    const check1 = HtmlElement.create({
      type: "input",
      id: "check1",
      attrs: {
        type: "checkbox"
      }
    }).appendTo(container);

    const label1 = HtmlElement.create({
      type: "label",
      attrs: {
        for: "check1",
      },
      styles: {
        "margin-right": "4px",
      },
      value: "check 1",
    }).appendTo(container);

    const check2 = HtmlElement.create({
      type: "input",
      id: "check2",
      attrs: {
        type: "checkbox"
      }
    }).appendTo(container);

    const label2 = HtmlElement.create({
      type: "label",
      attrs: {
        for: "check2",
      },
      styles: {
        "margin-right": "4px",
      },
      value: "check 2",
    }).appendTo(container);   
    
    check2.addClient(check1);

    const radio1 = HtmlElement.create({
      type: "input",
      id: "radio1",
      
      attrs: {
        type: "radio",
        name: "group1",
      }
    }).appendTo(container);
    const labelRadio1 = HtmlElement.create({
      type: "label",
      attrs: {
        for: "radio1",
      },
      styles: {
        "margin-right": "4px",
      },
      value: "radio 1",
    }).appendTo(container); 

    const radio2 = HtmlElement.create({
      type: "input",
      id: "radio2",
      
      attrs: {
        type: "radio",
        name: "group1",
      }
    }).appendTo(container);   
    const labelRadio2= HtmlElement.create({
      type: "label",
      attrs: {
        for: "radio2",
      },
      styles: {
        "margin-right": "4px",
      },
      value: "radio 2",
    }).appendTo(container);      
    
    newRow.clone().appendTo(container);

    const colorInput1= HtmlElement.create({
      type: "input",
      attrs: {
        type: "color",
      },
    }).appendTo(container);  

    const colorInput2= HtmlElement.create({
      type: "input",
      attrs: {
        type: "color",
      },
      clients: [colorInput1],
    }).appendTo(container);    

    const dateInput1= HtmlElement.create({
      type: "input",
      attrs: {
        type: "date",
      },
    }).appendTo(container);  

    const dateInput2= HtmlElement.create({
      type: "input",
      attrs: {
        type: "date",
      },
      clients: [dateInput1],
    }).appendTo(container);      

    const rangeInput1= HtmlElement.create({
      type: "input",
      attrs: {
        type: "range",
      },
    }).appendTo(container);  

    const rangeInput2= HtmlElement.create({
      type: "input",
      attrs: {
        type: "range",
      },
      clients: [rangeInput1],
    }).appendTo(container);     

    const select1= HtmlElement.create({
      type: "select",
    }).addChild({
      type: "option",
      value: "1",
      textContent: "1", 
    }).addChild({
      type: "option",
      value: "2",
      textContent: "2", 
    }).appendTo(container);  

    const select2= HtmlElement.create({
      type: "select",
      clients: [select1],
    }).addChild({
      type: "option",
      value: "1",
      textContent: "1",
    }).addChild({
      type: "option",
      value: "2",
      textContent: "2",     
    }).appendTo(container);       
    //////////////////////////////

    const circle = HtmlElement.create({
      type: "div",
      classes: "circle",
    });

    const square = HtmlElement.create({
      type: "div",
      classes: "square",
    });    

    function drawCircle(e) {
      const rect = screen.element.getBoundingClientRect();
      const drawing_circle = circle.clone();
      drawing_circle.setStyle({
        top: (e.clientY - rect.top) + "px",
        left: (e.clientX - rect.left) + "px"
      }).appendTo(screen);
    }

    function drawSquare(e) {
      const rect = screen.element.getBoundingClientRect();
      const drawing_square = square.clone();
      drawing_square.setStyle({
        top: (e.clientY - rect.top) + "px",
        left: (e.clientX - rect.left) + "px"
      }).appendTo(screen);
    }   

    const screen = HtmlElement.create({
      id: "screen",
      classes: "screen",
      events: {
        click: [drawCircle, drawSquare],
      }
    }).appendTo(document.body);

  
  </script>
</body>

</html>